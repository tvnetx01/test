<!DOCTYPE html>
<html lang="id">
<head>
   <title>XYS SATU</title>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta name="referrer" content="same-origin">
   <style>
       * {
           margin: 0;
           padding: 0;
           box-sizing: border-box;
       }
       
       body {
           font-family: Arial, sans-serif;
           background-color: #1a1a1a;
           color: white;
           overflow: hidden;
       }

       .container {
           display: flex;
           flex-direction: column;
           height: 100vh;
       }

       .player-container {
           flex: 1;
           position: relative;
           overflow: hidden;
           min-height: 40%;
       }

      .player-frame {
          width: 100%;
          height: 100%;
          border: none;
      }
   
       .sandbox-indicator {
           position: absolute;
           top: 10px;
           left: 10px;
           background: rgba(0, 128, 0, 0.95);
           color: white;
           padding: 10px 15px;
           border-radius: 8px;
           font-size: 14px;
           font-weight: bold;
           z-index: 10;
           display: none;
           border: 2px solid #00ff00;
           box-shadow: 0 0 20px rgba(0, 255, 0, 0.7);
       }

       .chat-container {
           height: 0;
           border-top: 2px solid gold;
           background-color: #0a0a0a;
           overflow: hidden;
           transition: height 0.3s ease;
       }

       .chat-container.active {
           height: 600px;
       }

       #chat-iframe {
           width: 100%;
           height: 100%;
           border: none;
       }

       .chat-toggle {
           position: fixed;
           bottom: 80px;
           right: 20px;
           padding: 10px 15px;
           background: linear-gradient(to right, #000000, #333333);
           color: gold;
           border: 1px solid rgba(255, 215, 0, 0.5);
           border-radius: 50px;
           cursor: pointer;
           z-index: 1000;
           font-size: 12px;
           font-weight: bold;
           transition: all 0.3s ease;
           box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
       }

       .chat-toggle:hover {
           background: linear-gradient(to right, #333333, #000000);
           transform: scale(1.05);
       }
       
       .popup-button {
           position: fixed;
           bottom: 50px;
           left: 10px;
           padding: 10px 20px;
           background: linear-gradient(
               to right,
               rgba(0, 0, 0, 1.5) 55%,
               transparent 100%
           );
           color: gold;
           text-decoration: none;
           border-radius: 10px;
           font-size: 8px;
           z-index: 1000;
           border: 0px solid rgba(255, 255, 255, 0.3);
           transition: background 0.3s ease, opacity 0.3s ease;
           cursor: pointer;
       }
       .popup-button:hover {
           background: linear-gradient(
               to left,
               rgba(0, 0, 0, 1.5) 55%,
               transparent 100%
           );
       }
       
       .notification {
           position: fixed;
           top: 20px;
           left: 50%;
           transform: translateX(-50%);
           background-color: rgba(0, 0, 0, 0.95);
           color: white;
           padding: 15px 30px;
           border-radius: 10px;
           z-index: 1001;
           display: none;
           border: 3px solid;
           font-weight: bold;
           text-align: center;
           min-width: 350px;
           font-size: 16px;
       }

       /* Modal untuk kode unik */
       .modal {
           display: none;
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           background-color: rgba(0, 0, 0, 0.98);
           z-index: 2000;
           justify-content: center;
           align-items: center;
       }

       .modal-content {
           background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
           padding: 40px;
           border-radius: 20px;
           width: 90%;
           max-width: 500px;
           text-align: center;
           border: 3px solid gold;
           box-shadow: 0 0 40px rgba(255, 215, 0, 0.5);
           position: relative;
       }

       .modal h2 {
           margin-bottom: 20px;
           color: gold;
           font-size: 28px;
       }

       .modal p {
           margin-bottom: 25px;
           color: #ddd;
           font-size: 16px;
           line-height: 1.6;
       }

       .code-input {
           width: 100%;
           padding: 18px;
           margin-bottom: 25px;
           background-color: #0a0a0a;
           border: 3px solid #444;
           border-radius: 12px;
           color: white;
           font-size: 20px;
           text-align: center;
           letter-spacing: 4px;
           font-weight: bold;
           transition: all 0.3s ease;
       }

       .code-input:focus {
           outline: none;
           border-color: gold;
           box-shadow: 0 0 20px gold;
           transform: scale(1.02);
       }

       .submit-btn {
           background: linear-gradient(45deg, #000000, #333333);
           color: gold;
           border: 2px solid rgba(255, 215, 0, 0.6);
           padding: 15px 30px;
           border-radius: 12px;
           cursor: pointer;
           font-size: 18px;
           font-weight: bold;
           transition: all 0.3s ease;
           width: 100%;
           margin-bottom: 15px;
       }

       .submit-btn:hover {
           background: linear-gradient(45deg, #333333, #000000);
           transform: scale(1.05);
           box-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
       }

       .submit-btn.success {
           background: linear-gradient(45deg, #006400, #008000);
           border-color: #00ff00;
           color: white;
       }

       .close-modal {
           background: transparent;
           color: #ccc;
           border: 1px solid #666;
           padding: 10px 20px;
           border-radius: 8px;
           cursor: pointer;
           font-size: 14px;
           transition: all 0.3s ease;
           width: 100%;
       }

       .close-modal:hover {
           background: rgba(255, 0, 0, 0.2);
           color: white;
           border-color: #ff4444;
       }

       .code-toggle {
           position: fixed;
           bottom: 140px;
           right: 20px;
           padding: 10px 15px;
           background: linear-gradient(to right, #000000, #333333);
           color: gold;
           border: 1px solid rgba(255, 215, 0, 0.5);
           border-radius: 50px;
           cursor: pointer;
           z-index: 1000;
           font-size: 12px;
           font-weight: bold;
           transition: all 0.3s ease;
           box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
       }

       .code-toggle:hover {
           background: linear-gradient(to right, #333333, #000000);
           transform: scale(1.05);
       }

       .success-message {
           color: #00ff00;
           font-weight: bold;
           font-size: 18px;
           margin: 20px 0;
           padding: 15px;
           background: rgba(0, 255, 0, 0.15);
           border-radius: 10px;
           border: 2px solid #00ff00;
           display: none;
       }

       .status-check {
           margin-top: 20px;
           padding: 12px;
           background: rgba(255, 255, 255, 0.1);
           border-radius: 8px;
           font-size: 14px;
           border: 1px solid #444;
       }

       /* TAMBAHAN: Mode Rotate untuk Desktop */
       @media (min-width: 768px) and (orientation: landscape) {
           .container {
               flex-direction: row;
           }
           
           .player-container {
               flex: 7;
               min-height: auto;
               border-right: 2px solid gold;
           }
           
           .chat-container {
               flex: 3;
               height: 100%;
               border-top: none;
               border-left: 2px solid gold;
               transition: none;
           }
           
           .chat-container:not(.active) {
               display: none;
           }
           
           .chat-toggle {
               top: 20px;
               bottom: auto;
               right: 20px;
               background: linear-gradient(135deg, #000000, #333333);
               border-radius: 50%;
               width: 50px;
               height: 50px;
               padding: 0;
               display: flex;
               align-items: center;
               justify-content: center;
               font-size: 18px;
               transform: rotate(0deg);
               transition: all 0.3s ease;
           }
           
           .chat-toggle:hover {
               transform: rotate(90deg) scale(1.1);
               background: linear-gradient(135deg, #333333, #000000);
           }
           
           .code-toggle {
               top: 80px;
               bottom: auto;
               right: 20px;
               background: linear-gradient(135deg, #000000, #333333);
               border-radius: 50%;
               width: 50px;
               height: 50px;
               padding: 0;
               display: flex;
               align-items: center;
               justify-content: center;
               font-size: 18px;
               transform: rotate(0deg);
               transition: all 0.3s ease;
           }
           
           .code-toggle:hover {
               transform: rotate(90deg) scale(1.1);
               background: linear-gradient(135deg, #333333, #000000);
           }
       }
   </style>
</head>
<body>
   
   <div class="container">
       <div class="player-container">
           <div class="sandbox-indicator" id="sandboxIndicator">
               üõ°Ô∏è SANDBOX MODE AKTIF
           </div>
           <!-- Iframe akan diganti ketika sandbox diaktifkan -->
           <iframe class="player-frame" id="wcq" title="Pemutar Video" frameborder="0" 
                   allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                   allowfullscreen></iframe>
       </div>
       
       <div class="chat-container" id="chatContainer">
           <iframe id="chat-iframe" src="https://www3.cbox.ws/box/?boxid=3532418&boxtag=knxanp" 
                   title="Chat Room" frameborder="0"></iframe>
       </div>
   </div>

   <!-- Modal untuk kode unik -->
   <div class="modal" id="codeModal">
       <div class="modal-content" id="modalContent">
           <h2>üîê AKTIFKAN SANDBOX MODE</h2>
           <p>Masukkan kode: <strong style="color: gold; font-size: 24px;">123456</strong></p>
           <input type="text" class="code-input" id="codeInput" placeholder="123456" maxlength="6" autocomplete="off">
           <button class="submit-btn" id="submitCode">
               üöÄ AKTIFKAN SANDBOX
           </button>
           <div class="success-message" id="successMessage">
               ‚úÖ BERHASIL! Sandbox telah diaktifkan
           </div>
           <div class="status-check" id="statusCheck">
               Status: <span id="sandboxStatus" style="color: #ff4444;">SANDBOX TIDAK AKTIF</span>
           </div>
           <button class="close-modal" id="closeModal">Tutup</button>
       </div>
   </div>

   <!-- Tombol Toggle Chat -->
   <button class="chat-toggle" id="chatToggle">
       üí¨ Chat
   </button>

   <!-- Tombol untuk membuka modal kode -->
   <button class="code-toggle" id="codeToggle">
       üîê Sandbox
   </button>

   <!-- Tombol Popup -->
   <a href="https://www.profitableratecpm.com/g2w7ut1hm4?key=53a1b14dfd7afcf9793564250efbef70" 
      class="popup-button" id="tombol">
      Hati-hati kegocek iklan! Jika tanda ini hilang, langsung tekan tombol kembali/back
   </a>
   
   <div class="notification" id="notification">
       Anda akan dialihkan ke halaman iklan...
   </div>

   <script>
       // SIMPLE SANDBOX SYSTEM
       console.log('=== SANDBOX SYSTEM LOADED ===');

       // Elements
       const codeModal = document.getElementById('codeModal');
       const codeToggle = document.getElementById('codeToggle');
       const codeInput = document.getElementById('codeInput');
       const submitCode = document.getElementById('submitCode');
       const closeModal = document.getElementById('closeModal');
       const playerContainer = document.querySelector('.player-container');
       const sandboxIndicator = document.getElementById('sandboxIndicator');
       const successMessage = document.getElementById('successMessage');
       const sandboxStatus = document.getElementById('sandboxStatus');
       const notification = document.getElementById('notification');

       // Show notification
       function showNotification(message, isSuccess) {
           notification.textContent = message;
           notification.style.borderColor = isSuccess ? '#00ff00' : '#ff4444';
           notification.style.background = isSuccess ? 'rgba(0, 128, 0, 0.95)' : 'rgba(128, 0, 0, 0.95)';
           notification.style.display = 'block';
           setTimeout(() => notification.style.display = 'none', 3000);
       }

       // Activate sandbox - SIMPLE VERSION
       function activateSandbox() {
           console.log('üîÑ Starting sandbox activation...');
           
           // Get current iframe
           const oldIframe = document.getElementById('wcq');
           const currentSrc = oldIframe.src;
           
           console.log('üì∫ Current iframe src:', currentSrc);
           
           // Create NEW iframe with sandbox
           const newIframe = document.createElement('iframe');
           newIframe.className = 'player-frame';
           newIframe.id = 'wcq';
           newIframe.title = 'Pemutar Video';
           newIframe.frameborder = '0';
           
           // ‚úÖ THIS IS WHERE SANDBOX IS ADDED
           newIframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');
           
           // Copy other attributes
           newIframe.setAttribute('allow', 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share');
           newIframe.allowFullscreen = true;
           
           // Set source
           if (currentSrc) {
               newIframe.src = currentSrc;
           }
           
           // Replace old iframe with new one
           oldIframe.parentNode.replaceChild(newIframe, oldIframe);
           
           console.log('‚úÖ New iframe created with sandbox');
           console.log('üîç Sandbox attribute:', newIframe.getAttribute('sandbox'));
           
           return newIframe;
       }

       // Open modal
       codeToggle.addEventListener('click', function() {
           console.log('üì± Opening sandbox modal');
           codeModal.style.display = 'flex';
           codeInput.focus();
           codeInput.value = '';
       });

       // Close modal
       closeModal.addEventListener('click', function() {
           codeModal.style.display = 'none';
       });

       codeModal.addEventListener('click', function(e) {
           if (e.target === codeModal) {
               codeModal.style.display = 'none';
           }
       });

       // Handle code submission
       submitCode.addEventListener('click', function() {
           const enteredCode = codeInput.value.trim();
           console.log('‚å®Ô∏è Code entered:', enteredCode);
           
           if (enteredCode === '123456') {
               console.log('üéØ Correct code! Activating sandbox...');
               
               try {
                   // Activate sandbox
                   const newIframe = activateSandbox();
                   
                   // Verify sandbox is applied
                   const hasSandbox = newIframe.hasAttribute('sandbox');
                   const sandboxValue = newIframe.getAttribute('sandbox');
                   
                   console.log('üîç Verification - Has sandbox:', hasSandbox);
                   console.log('üîç Verification - Sandbox value:', sandboxValue);
                   
                   if (hasSandbox && sandboxValue) {
                       // SUCCESS!
                       console.log('üéâ SANDBOX ACTIVATED SUCCESSFULLY!');
                       
                       // Show visual indicators
                       sandboxIndicator.style.display = 'block';
                       sandboxStatus.textContent = 'SANDBOX AKTIF';
                       sandboxStatus.style.color = '#00ff00';
                       successMessage.style.display = 'block';
                       submitCode.textContent = '‚úÖ BERHASIL';
                       submitCode.classList.add('success');
                       
                       showNotification('üéâ Sandbox berhasil diaktifkan! Iframe sekarang aman', true);
                       
                       codeInput.disabled = true;
                       
                       setTimeout(() => {
                           codeModal.style.display = 'none';
                       }, 2000);
                       
                   } else {
                       throw new Error('Sandbox attribute not found');
                   }
                   
               } catch (error) {
                   console.error('‚ùå Error:', error);
                   showNotification('‚ùå Gagal mengaktifkan sandbox', false);
               }
               
           } else {
               console.log('‚ùå Wrong code');
               showNotification('‚ùå Kode salah! Gunakan: 123456', false);
               codeInput.value = '';
               codeInput.focus();
           }
       });

       // Submit with Enter
       codeInput.addEventListener('keypress', function(e) {
           if (e.key === 'Enter') {
               submitCode.click();
           }
       });

       // Chat toggle
       const chatToggle = document.getElementById('chatToggle');
       const chatContainer = document.getElementById('chatContainer');
       let chatVisible = false;

       chatToggle.addEventListener('click', function() {
           chatVisible = !chatVisible;
           if (chatVisible) {
               chatContainer.classList.add('active');
               this.textContent = '‚ùå Tutup Chat';
           } else {
               chatContainer.classList.remove('active');
               this.textContent = 'üí¨ Chat';
           }
       });

       // Orientation handling
       function handleOrientation() {
           if (window.innerWidth >= 768) {
               if (!chatContainer.classList.contains('active')) {
                   chatContainer.classList.add('active');
                   chatVisible = true;
               }
           }
       }

       window.addEventListener('load', handleOrientation);
       window.addEventListener('resize', handleOrientation);

       // Popup button
       const tombol = document.getElementById('tombol');
       tombol.addEventListener('click', function(e) {
           e.preventDefault();
           this.innerHTML = 'Karna Anda Dialihkan Oleh Iklan';
           setTimeout(() => {
               window.location.href = this.href;
           }, 1000);
       });

       // Get URL parameters
       function getParameterByName(name) {
           const url = window.location.href;
           name = name.replace(/[\[\]]/g, '\\$&');
           const regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
               results = regex.exec(url);
           if (!results) return null;
           if (!results[2]) return '';
           return decodeURIComponent(results[2].replace(/\+/g, ' '));
       }

       const idBaru = getParameterByName('id');
       if (idBaru) {
           const iframe = document.getElementById('wcq');
           iframe.id = idBaru;
       }

       console.log('üöÄ Sandbox system ready! Code: 123456');
       console.log('üëâ Click the üîê button to activate sandbox');
   </script>
</body>
</html>
